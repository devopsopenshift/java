# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
- azure-pipelines-2

pool:
  vmImage: 'ubuntu-latest'

variables:
- name: COUD_FORMATION_PKG_PATH
  value: 'aws-cloudformation/'
  readonly: true

stages:
  - stage:
    jobs:
      - job: 
        steps:
          - task: Bash@3
            displayName: "variable setter"
            name: varSet
            inputs:
              targetType: 'inline'
              script: |
                # Write your commands here
                
                FOO='somevalue'
                echo '##vso[task.setvariable variable=FOO;isOutput=true]$FOO'
          - task: Bash@3
            displayName: "PRINT VAR"
            inputs:
              targetType: 'inline'
              script: |
                # Write your commands here
               
                echo "$(varSet.FOO)"
          - template: template.yml
            parameters:
              APPLICATION :  $(varSet.FOO)

